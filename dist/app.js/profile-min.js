const base_url="http://127.0.0.1:3000",profile=document.querySelector(".profile__data");let getprofile=()=>{fetch(base_url+"/api/v1/profile",{method:"get",headers:{"content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>e.json()).then(e=>{appendData(e)}).catch(e=>{console.log(e)})};getprofile();let appendData=e=>{if(e)if(e.sendedCoins&&e.receivedCoins){var n=[],a=[];e.sendedCoins.forEach(e=>{n.push(e.amount)}),e.receivedCoins.forEach(e=>{a.push(e.amount)});var i=n.reduce((e,n)=>e+n),s=a.reduce((e,n)=>e+n),d=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>\n            <div class="subtitle">Sended coins</div>\n            <p>${i}</p>\n            </div>\n            <div class="subtitle">Received coins</div>\n            <p>${s}</p>\n            </div>`}else if(e.sendedCoins){n=[];e.sendedCoins.forEach(e=>{n.push(e.amount)});i=n.reduce((e,n)=>e+n),d=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>\n            <div class="subtitle">Sended coins</div>\n            <p>${i}</p>\n            </div>`}else if(e.receivedCoins){a=[];e.sendedCoins.forEach(e=>{a.push(e.amount)});s=a.reduce((e,n)=>e+n),d=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>\n            <div class="subtitle">Sended coins</div>\n            <p>${s}</p>\n            </div>`}else d=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>`;document.querySelector(".profile__data").insertAdjacentHTML("beforeend",d)};