const base_url="http://127.0.0.1:3000",profile=document.querySelector(".profile__data");let getprofile=()=>{fetch(base_url+"/api/v1/profile",{method:"get",headers:{"content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>e.json()).then(e=>{appendData(e),console.log(e.sendedCoins)}).catch(e=>{console.log(e)})};getprofile();let appendData=e=>{if(e)if(e.sendedCoins){var a=[];e.sendedCoins.forEach(e=>{a.push(e.amount)});var n=a.reduce((e,a)=>e+a),l=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>\n            <div class="subtitle">Sended coins</div>\n            <p>${n}</p>\n            </div>`}else l=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>`;document.querySelector(".profile__data").insertAdjacentHTML("beforeend",l)};