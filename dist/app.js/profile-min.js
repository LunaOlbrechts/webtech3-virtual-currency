const base_url="https://imdcurrency.herokuapp.com",profile=document.querySelector(".profile__data");let getprofile=()=>{fetch(base_url+"/api/v1/profile",{method:"get",headers:{"content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>e.json()).then(e=>{appendData(e)}).catch(e=>{console.log(e)})};getprofile();let appendData=e=>{if(e)if(e.sentCoins&&e.receivedCoins){var n=[],i=[];e.sentCoins.forEach(e=>{n.push(e.amount)}),e.receivedCoins.forEach(e=>{i.push(e.amount)});var a=n.reduce((e,n)=>e+n),s=i.reduce((e,n)=>e+n),l=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>\n            <div class="subtitle">coins sent</div>\n            <p>${a}</p>\n            </div>\n            <div class="subtitle">coins Received</div>\n            <p>${s}</p>\n            </div>`}else if(e.sentCoins){n=[];e.sentCoins.forEach(e=>{n.push(e.amount)});a=n.reduce((e,n)=>e+n),l=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>\n            <div class="subtitle">Sent coins</div>\n            <p>${a}</p>\n            </div>`}else if(e.receivedCoins){i=[];e.receivedCoins.forEach(e=>{i.push(e.amount)});s=i.reduce((e,n)=>e+n),l=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>\n            <div class="subtitle">Sent coins</div>\n            <p>${s}</p>\n            </div>`}else l=`\n            <div class="profile__data__balance">\n            <div class="subtitle">Balance</div>\n                <p>${e.user.balance}</p>\n            </div\n            <div class="profile__data__name">\n            <div class="subtitle">Profile</div>\n            <p>${e.user.fullname}</p>\n            </div>`;document.querySelector(".profile__data").insertAdjacentHTML("beforeend",l)};